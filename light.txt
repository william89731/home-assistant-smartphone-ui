entity: light.luce_cucina_light 
name: cucina
aspect_ratio: 1/1
entity_picture: /local/luce3.png
show_entity_picture: true
hold_action:
  action: call-service
  service: browser_mod.popup
  service_data:
    title: cucina
    card:
      type: 'custom:light-popup-card'
      entity: light.luce_cucina_light
      icon: none
      fullscreen: false
      brightnessWidth: 130px
      brightnessHeight: 360px
      borderRadius: 1.7em
      sliderColor: '#c7c7c7'
      sliderTrackColor: 'rgba(25, 25, 25, 0.9)'
      actionSize: 4.5em
      actionsInARow: 2
state:
  - color: 'rgb(255,100,100)'
    styles:
      entity_picture:
        - filter: grayscale(80%)
      card:
        - transform: null
        - border-radius: 20px
        - background-color: black
    value: 'off'
  - color: 'rgb(0,0,255)'
    icon: 'mdi:lightbulb-on'
    styles:
      card:
        - background-color: black
        - transform: null
        - border-radius: 20px
        - box-shadow: null
      entity_picture:
        - animation: var(--my-heartbeat)
        - transform: null
    value: 'on'
style: |
  @keyframes heartbeat {
    from {
      transform: scale(1);
      transform-origin: center center;
      animation-timing-function: ease-out;
    }
    10% {
      transform: scale(0.91);
      animation-timing-function: ease-in;
    }
    17% {
      transform: scale(0.98);
      animation-timing-function: ease-out;
    }
    33% {
      transform: scale(0.87);
      animation-timing-function: ease-in;
    }
    45% {
      transform: scale(1);
      animation-timing-function: ease-out;
    }
  }
  ha-card {
    --my-heartbeat: heartbeat 1.5s ;
  }       
styles:
  card:
    - '--mdc-ripple-color': blue
    - '--mdc-ripple-press-opacity': 0.5
type: 'custom:button-card'
